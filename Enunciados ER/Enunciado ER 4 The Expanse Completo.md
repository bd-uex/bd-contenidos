La primera versión del diagrama E/R ha convencido a Camina Drummer así que nos ha encargado el diseño de la versión completa.

Veremos que hay partes que son tal y como nos comentó para la primera versión pero hay nuevas partes e incluso alguna parte que ha sufrido alguna modificación:

Los **centros mineros** de los **planetas** son la joya de la corona de la OPA. Cada uno tiene su propio código único, algo parecido a los tatuajes de identificación que usan los cinturonianos. Además, tienen nombre, fecha de creación y unas coordenadas exactas porque, bueno, no querrás perderte en una estación minera en algún asteroide perdido. Cada planeta puede tener más de un centro (sí, Marte está lleno de ellos), pero siempre hay uno que es el principal en cada planeta. De los planetas almacenamos un código del planeta, su nombre, nº de lunas, periodo de rotación (en horas) y órbita (en días).

Por supuesto, en este futuro brillante (o polvoriento, dependiendo del punto de vista), la extracción de **minerales** es lo más importante. Cada mineral tiene un código, un nombre y una descripción física. Por otra parte ,existen **distintas clases de minerales** (silicatos, sulfatos, nitratos, etc.) según su composición química. Esta clasificación debe estar estandarizada. Un mineral sólo pertenece a una de estas clasificaciones, aunque, como es obvio, varios minerales pueden ser de la misma clase. Además, hay minerales que están relacionados con otros, en el sentido de que si se encuentra alguno de ellos, es bastante probable encontrar los otros en algún lugar cercano. Es importante mantener la información de qué minerales están relacionados con otros.

Los **centros** deben llevar un control detallado de qué minerales han encontrado y, más importante aún, en qué fecha fue el primer hallazgo. Puede haber minerales que ningún centro ha tenido la suerte de hallar todavía y no todos los centros han tenido la suerte de encontrar minerales. Por otra parte, debe mantenerse información de la cantidad extraída por día de cada mineral en cada centro (puede haber minerales para los que no se extraiga nada durante algún día o en algunos períodos de tiempo).

El mineral extraído no se queda flotando por ahí. Se organiza en **cargamentos** que luego son transportados a otros planetas o entre centros, dependiendo de las necesidades (y del equilibrio político entre Marte, la Tierra y el Cinturón de Asteroides, claro). Cada cargamento tiene un código único interno consecutivo de cargamento dentro del centro de origen asociado, (es decir, el primer cargamento empaquetado por el centro X7 de Marte tendrá el valor c1 para este campo, el segundo el C2, etc… mientras que el primer cargamento del centro T1 de Titán también tendrá el valor C1, el segundo el C2, etc..). Además, debemos saber el mineral que incluye (sólo uno) y su cantidad, así como la fecha de empaquetado, porque, como siempre, el tiempo es oro... o en este caso, platino.

Pero ¿cómo mover estos preciados cargamentos entre planetas? Aquí es donde entran en juego las **naves espaciales** de la OPA. Cada nave tiene una matrícula, un modelo, y por supuesto, una capacidad de carga, que más de un cinturoniano intentará sobrepasar en algún momento. También deben registrar el planeta al que están asignadas, para que no acaben en el lugar equivocado. Los **vuelos** de estas naves son otro asunto. La OPA necesita saber cuándo despegan y aterrizan, desde qué centro comenzaron el viaje y a cuál llegaron, y qué cargamentos transportaron en cada vuelo.

La OPA no solo cuenta con naves espaciales, también dispone en cada planeta de vehículos de distinto tipo: vehículos para transporte de personal por la superficie de un planeta, vehículos específicos para la extracción de minerales, etc. Al igual que de las naves espaciales, cada vehículo está identificado por su matrícula, y se almacenan detalles sobre su modelo y también es clave saber en qué planeta o estación está asignado. Todo lo relativo a la gestión de las operaciones y los transportes que se realizan con el resto de los tipos de vehículos no se incluirá de momento en la base de datos.

Como otra gran novedad, la OPA, siempre buscando mantener el orden en sus operaciones por todo el sistema solar, también necesita llevar un control detallado del **personal** que trabaja en sus centros mineros. Así, cada persona de la OPA está identificado por un número único de personal y se registran datos como su nombre, pasaporte (ya sea de la Tierra, Marte o alguna estación espacial independiente), la fecha en la que se unió a la OPA, el centro minero al que está asignado, y su puesto (que puede ser desde directivo, astronauta, técnico de extracción, o hasta incluso uno de esos conductores que maniobran cargueros por los túneles de las estaciones mineras). Además, cada uno de los **centros** debe tener un coordinador. Este coordinador, por supuesto, solo pude ser alguien con un puesto de directivo de la OPA, y solo puede estar al mando de un centro a la vez. La OPA necesita saber, y con precisión, desde cuándo este directivo está a cargo del centro. También es necesario saber qué astronautas fueron los afortunados en pilotar los vuelos teniendo en cuenta que varios astronautas pueden pilotar un vuelo.

1. **Realiza un diagrama Entidad/Relación que represente estas especificaciones, mostrando en ese mismo diagrama los atributos e identificadores de TODAS las entidades y subrayando los identificadores. De la misma forma presenta las asociaciones con sus nombres y atributos correspondientes**.